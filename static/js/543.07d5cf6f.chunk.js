"use strict";(self.webpackChunkgoit_react_hw_08_phonebook=self.webpackChunkgoit_react_hw_08_phonebook||[]).push([[543],{5543:function(e,n,t){t.r(n),t.d(n,{default:function(){return D}});var r=t(2791),i=t(6582),a=t(9434),o=t(1686),l=t.n(o),u=t(6336),s=t(824),c=t(1413),d=t(4925),f=t(5597),v=t(6232),m=t(2996),h=t(5113),p=t(6992);var g=t(184),x=["className","align","decoration","casing"],b=(0,f.G)((function(e,n){var t=(0,v.mq)("Text",e),r=(0,m.Lr)(e),i=(r.className,r.align,r.decoration,r.casing,(0,d.Z)(r,x)),a=function(e){var n=Object.assign({},e);for(var t in n)void 0===n[t]&&delete n[t];return n}({textAlign:e.align,textDecoration:e.decoration,textTransform:e.casing});return(0,g.jsx)(h.m.p,(0,c.Z)((0,c.Z)((0,c.Z)({ref:n,className:(0,p.cx)("chakra-text",e.className)},a),i),{},{__css:t}))}));b.displayName="Text";var y=t(5325),j=t(7298),Z=t(9163),N=t(9055),C="NOT_FOUND";var I=function(e,n){return e===n};function k(e,n){var t="object"===typeof n?n:{equalityCheck:n},r=t.equalityCheck,i=void 0===r?I:r,a=t.maxSize,o=void 0===a?1:a,l=t.resultEqualityCheck,u=function(e){return function(n,t){if(null===n||null===t||n.length!==t.length)return!1;for(var r=n.length,i=0;i<r;i++)if(!e(n[i],t[i]))return!1;return!0}}(i),s=1===o?function(e){var n;return{get:function(t){return n&&e(n.key,t)?n.value:C},put:function(e,t){n={key:e,value:t}},getEntries:function(){return n?[n]:[]},clear:function(){n=void 0}}}(u):function(e,n){var t=[];function r(e){var r=t.findIndex((function(t){return n(e,t.key)}));if(r>-1){var i=t[r];return r>0&&(t.splice(r,1),t.unshift(i)),i.value}return C}return{get:r,put:function(n,i){r(n)===C&&(t.unshift({key:n,value:i}),t.length>e&&t.pop())},getEntries:function(){return t},clear:function(){t=[]}}}(o,u);function c(){var n=s.get(arguments);if(n===C){if(n=e.apply(null,arguments),l){var t=s.getEntries(),r=t.find((function(e){return l(e.value,n)}));r&&(n=r.value)}s.put(arguments,n)}return n}return c.clearCache=function(){return s.clear()},c}function q(e){var n=Array.isArray(e[0])?e[0]:e;if(!n.every((function(e){return"function"===typeof e}))){var t=n.map((function(e){return"function"===typeof e?"function "+(e.name||"unnamed")+"()":typeof e})).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+t+"]")}return n}function R(e){for(var n=arguments.length,t=new Array(n>1?n-1:0),r=1;r<n;r++)t[r-1]=arguments[r];var i=function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a,o=0,l={memoizeOptions:void 0},u=r.pop();if("object"===typeof u&&(l=u,u=r.pop()),"function"!==typeof u)throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof u+"]");var s=l,c=s.memoizeOptions,d=void 0===c?t:c,f=Array.isArray(d)?d:[d],v=q(r),m=e.apply(void 0,[function(){return o++,u.apply(null,arguments)}].concat(f)),h=e((function(){for(var e=[],n=v.length,t=0;t<n;t++)e.push(v[t].apply(null,arguments));return a=m.apply(null,e)}));return Object.assign(h,{resultFunc:u,memoizedResultFunc:m,dependencies:v,lastResult:function(){return a},recomputations:function(){return o},resetRecomputations:function(){return o=0}}),h};return i}var F=R(k),w=function(e){return e.filter.filter},_=function(e){return e.contacts.items},S={getLoading:function(e){return e.contacts.loading},getError:function(e){return e.contacts.error},getFilter:w,getVisibleContacts:F([_,w],(function(e,n){return e.filter((function(e){return e.name.toLowerCase().includes(n.toLowerCase())}))})),getAllContacts:_},P=function(){var e=(0,a.I0)(),n=(0,a.v9)(S.getAllContacts);return(0,g.jsxs)(s.xu,{width:"50%",p:8,bg:"white",boxShadow:"md",children:[(0,g.jsx)(b,{as:"h1",fontSize:"2xl",fontWeight:"bold",textAlign:"center",mb:6,children:"Phonebook"}),(0,g.jsxs)("form",{onSubmit:function(t){if(t.preventDefault(),null===n||void 0===n?void 0:n.find((function(e){return e.name.toLowerCase()===t.target.name.value.toLowerCase()})))return l().Notify.failure('Contact "'.concat(t.target.name.value,'" is already in contacts')),void t.target.reset();var r={name:t.target.name.value,number:t.target.number.value};e((0,u.je)(r)).then((function(e){l().Notify.success("Contact added"),t.target.reset()})).catch((function(e){l().Notify.failure("Failed to add contact: "+e.message)}))},children:[(0,g.jsxs)(y.NI,{mb:3,children:[(0,g.jsx)(j.l,{children:"Name"}),(0,g.jsx)(Z.I,{type:"text",name:"name",pattern:"^[a-zA-Z\u0430-\u044f\u0410-\u042f]+([' \\x2D\\x5B-\\x5D][a-zA-Z\u0430-\u044f\u0410-\u042f ])?[a-zA-Z\u0430-\u044f\u0410-\u042f]*$",title:"Name may contain only letters, apostrophe, dash and spaces. For example Adrian, Jacob Mercer, Charles de Batz de Castelmore d'Artagnan",required:!0,placeholder:"Name"})]}),(0,g.jsxs)(y.NI,{mb:3,children:[(0,g.jsx)(j.l,{children:"Number"}),(0,g.jsx)(Z.I,{type:"tel",name:"number",pattern:"[+]?[\\d\\s.\\x2D]{1,30}",title:"Phone number must be digits and can contain spaces, dashes, periods, and can start with +",required:!0,placeholder:"Number",mb:8})]}),(0,g.jsx)(N.z,{type:"submit",colorScheme:"teal",width:"full",children:"Add contact"})]})]})},A=t(1634),z=function(){var e=(0,a.v9)((function(e){return e.filter.filter})),n=(0,a.I0)();return(0,g.jsxs)(s.xu,{p:4,bg:"gray.200",borderRadius:"md",mb:10,children:[(0,g.jsx)(b,{as:"h2",fontSize:"lg",fontWeight:"bold",mb:2,children:"Filter contacts"}),(0,g.jsx)(Z.I,{type:"text",name:"filter",value:e,onChange:function(e){n((0,A.M6)(e.target.value))},bg:"white",borderColor:"gray.400",_focus:{borderColor:"teal.400"}})]})},O=function(){var e=(0,a.I0)(),n=(0,a.v9)(S.getVisibleContacts),t=(0,a.v9)(S.getLoading),i=(0,a.v9)(S.getError);(0,r.useEffect)((function(){e((0,u.m$)())}),[e]);return(0,g.jsxs)(s.xu,{width:"50%",p:8,bg:"white",boxShadow:"md",children:[(0,g.jsx)(b,{as:"h1",fontSize:"2xl",fontWeight:"bold",textAlign:"center",mb:6,children:"Contacts"}),(0,g.jsx)(z,{}),i&&(0,g.jsx)(b,{children:"Something went wrong..."}),t?(0,g.jsx)(b,{textAlign:"center",fontSize:"xl",color:"gray.500",my:8,children:"Loading..."}):(0,g.jsx)(g.Fragment,{children:0===n.length?(0,g.jsx)(b,{textAlign:"center",fontSize:"xl",color:"gray.500",my:8,children:"Your Phonebook is empty. Please add a contact."}):(0,g.jsx)(g.Fragment,{children:(0,g.jsx)(s.xu,{children:n.map((function(t){return(0,g.jsxs)(s.xu,{borderWidth:"1px",borderRadius:"md",p:3,mb:3,display:"flex",alignItems:"center",children:[(0,g.jsxs)(b,{fontWeight:"bold",mr:2,children:[t.name,":"]}),(0,g.jsx)(b,{children:t.number}),(0,g.jsx)(N.z,{type:"button",ml:"auto",colorScheme:"red",size:"sm",onClick:function(){return r=t.id,e((0,u.xX)(r)),void l().Notify.success('Contact "'.concat(n.find((function(e){return e.id===r})).name,'" successfully deleted'));var r},children:"Delete"})]},t.id)}))})})})]})},D=function(){return(0,g.jsxs)(i.k,{justifyContent:"space-between",children:[(0,g.jsx)(P,{}),(0,g.jsx)(O,{})]})}},7298:function(e,n,t){t.d(n,{l:function(){return v}});var r=t(1413),i=t(4925),a=t(5325),o=t(5597),l=t(6232),u=t(2996),s=t(5113),c=t(6992),d=t(184),f=["className","children","requiredIndicator","optionalIndicator"],v=(0,o.G)((function(e,n){var t,o=(0,l.mq)("FormLabel",e),v=(0,u.Lr)(e),h=(v.className,v.children),p=v.requiredIndicator,g=void 0===p?(0,d.jsx)(m,{}):p,x=v.optionalIndicator,b=void 0===x?null:x,y=(0,i.Z)(v,f),j=(0,a.NJ)(),Z=null!=(t=null==j?void 0:j.getLabelProps(y,n))?t:(0,r.Z)({ref:n},y);return(0,d.jsxs)(s.m.label,(0,r.Z)((0,r.Z)({},Z),{},{className:(0,c.cx)("chakra-form__label",v.className),__css:(0,r.Z)({display:"block",textAlign:"start"},o),children:[h,(null==j?void 0:j.isRequired)?g:b]}))}));v.displayName="FormLabel";var m=(0,o.G)((function(e,n){var t=(0,a.NJ)(),i=(0,a.e)();if(!(null==t?void 0:t.isRequired))return null;var o=(0,c.cx)("chakra-form__required-indicator",e.className);return(0,d.jsx)(s.m.span,(0,r.Z)((0,r.Z)({},null==t?void 0:t.getRequiredIndicatorProps(e,n)),{},{__css:i.requiredIndicator,className:o}))}));m.displayName="RequiredIndicator"},5325:function(e,n,t){t.d(n,{NI:function(){return I},NJ:function(){return C},e:function(){return y}});var r=t(1413),i=t(4925),a=t(9439),o=t(9886),l=t(4591),u=t(5597),s=t(6232),c=t(2996),d=t(5113),f=t(6992),v=t(2791),m=t(184),h=["id","isRequired","isInvalid","isDisabled","isReadOnly"],p=["getRootProps","htmlProps"],g=(0,o.k)({name:"FormControlStylesContext",errorMessage:"useFormControlStyles returned is 'undefined'. Seems you forgot to wrap the components in \"<FormControl />\" "}),x=(0,a.Z)(g,2),b=x[0],y=x[1],j=(0,o.k)({strict:!1,name:"FormControlContext"}),Z=(0,a.Z)(j,2),N=Z[0],C=Z[1];var I=(0,u.G)((function(e,n){var t=(0,s.jC)("Form",e),o=function(e){var n=e.id,t=e.isRequired,o=e.isInvalid,u=e.isDisabled,s=e.isReadOnly,c=(0,i.Z)(e,h),d=(0,v.useId)(),m=n||"field-".concat(d),p="".concat(m,"-label"),g="".concat(m,"-feedback"),x="".concat(m,"-helptext"),b=(0,v.useState)(!1),y=(0,a.Z)(b,2),j=y[0],Z=y[1],N=(0,v.useState)(!1),C=(0,a.Z)(N,2),I=C[0],k=C[1],q=(0,v.useState)(!1),R=(0,a.Z)(q,2),F=R[0],w=R[1],_=(0,v.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.Z)((0,r.Z)({id:x},e),{},{ref:(0,l.lq)(n,(function(e){e&&k(!0)}))})}),[x]),S=(0,v.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.Z)((0,r.Z)({},e),{},{ref:n,"data-focus":(0,f.PB)(F),"data-disabled":(0,f.PB)(u),"data-invalid":(0,f.PB)(o),"data-readonly":(0,f.PB)(s),id:void 0!==e.id?e.id:p,htmlFor:void 0!==e.htmlFor?e.htmlFor:m})}),[m,u,F,o,s,p]),P=(0,v.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.Z)((0,r.Z)({id:g},e),{},{ref:(0,l.lq)(n,(function(e){e&&Z(!0)})),"aria-live":"polite"})}),[g]),A=(0,v.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.Z)((0,r.Z)((0,r.Z)({},e),c),{},{ref:n,role:"group"})}),[c]),z=(0,v.useCallback)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return(0,r.Z)((0,r.Z)({},e),{},{ref:n,role:"presentation","aria-hidden":!0,children:e.children||"*"})}),[]);return{isRequired:!!t,isInvalid:!!o,isReadOnly:!!s,isDisabled:!!u,isFocused:!!F,onFocus:function(){return w(!0)},onBlur:function(){return w(!1)},hasFeedbackText:j,setHasFeedbackText:Z,hasHelpText:I,setHasHelpText:k,id:m,labelId:p,feedbackId:g,helpTextId:x,htmlProps:c,getHelpTextProps:_,getErrorMessageProps:P,getRootProps:A,getLabelProps:S,getRequiredIndicatorProps:z}}((0,c.Lr)(e)),u=o.getRootProps,g=(o.htmlProps,(0,i.Z)(o,p)),x=(0,f.cx)("chakra-form-control",e.className);return(0,m.jsx)(N,{value:g,children:(0,m.jsx)(b,{value:t,children:(0,m.jsx)(d.m.div,(0,r.Z)((0,r.Z)({},u({},n)),{},{className:x,__css:t.container}))})})}));I.displayName="FormControl",(0,u.G)((function(e,n){var t=C(),i=y(),a=(0,f.cx)("chakra-form__helper-text",e.className);return(0,m.jsx)(d.m.div,(0,r.Z)((0,r.Z)({},null==t?void 0:t.getHelpTextProps(e,n)),{},{__css:i.helperText,className:a}))})).displayName="FormHelperText"},9163:function(e,n,t){t.d(n,{I:function(){return p}});var r=t(1413),i=t(4925),a=t(5325),o=t(6992),l=["isDisabled","isInvalid","isReadOnly","isRequired"],u=["id","disabled","readOnly","required","isRequired","isInvalid","isReadOnly","isDisabled","onFocus","onBlur"];function s(e){var n=function(e){var n,t,l,s=(0,a.NJ)(),c=e.id,d=e.disabled,f=e.readOnly,v=e.required,m=e.isRequired,h=e.isInvalid,p=e.isReadOnly,g=e.isDisabled,x=e.onFocus,b=e.onBlur,y=(0,i.Z)(e,u),j=e["aria-describedby"]?[e["aria-describedby"]]:[];(null==s?void 0:s.hasFeedbackText)&&(null==s?void 0:s.isInvalid)&&j.push(s.feedbackId);(null==s?void 0:s.hasHelpText)&&j.push(s.helpTextId);return(0,r.Z)((0,r.Z)({},y),{},{"aria-describedby":j.join(" ")||void 0,id:null!=c?c:null==s?void 0:s.id,isDisabled:null!=(n=null!=d?d:g)?n:null==s?void 0:s.isDisabled,isReadOnly:null!=(t=null!=f?f:p)?t:null==s?void 0:s.isReadOnly,isRequired:null!=(l=null!=v?v:m)?l:null==s?void 0:s.isRequired,isInvalid:null!=h?h:null==s?void 0:s.isInvalid,onFocus:(0,o.v0)(null==s?void 0:s.onFocus,x),onBlur:(0,o.v0)(null==s?void 0:s.onBlur,b)})}(e),t=n.isDisabled,s=n.isInvalid,c=n.isReadOnly,d=n.isRequired,f=(0,i.Z)(n,l);return(0,r.Z)((0,r.Z)({},f),{},{disabled:t,readOnly:c,required:d,"aria-invalid":(0,o.Qm)(s),"aria-required":(0,o.Qm)(d),"aria-readonly":(0,o.Qm)(c)})}var c=t(5597),d=t(6232),f=t(2996),v=t(5113),m=t(184),h=["htmlSize"],p=(0,c.G)((function(e,n){var t=e.htmlSize,a=(0,i.Z)(e,h),l=(0,d.jC)("Input",a),u=s((0,f.Lr)(a)),c=(0,o.cx)("chakra-input",e.className);return(0,m.jsx)(v.m.input,(0,r.Z)((0,r.Z)({size:t},u),{},{__css:l.field,ref:n,className:c}))}));p.displayName="Input",p.id="Input"}}]);
//# sourceMappingURL=543.07d5cf6f.chunk.js.map